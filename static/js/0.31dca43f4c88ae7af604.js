webpackJsonp([0],{Cz8s:function(e,a,t){"use strict";var s={name:"v-Header",props:{showRight:{type:Boolean,default:!0},language:{type:String,default:"en"}},data:function(){return{}},watch:{language:function(e){console.log(e)}}},n={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"header"},[t("div",{staticClass:"headerLeft"}),e._v(" "),t("div",{staticClass:"headerCn"},[t("div",{directives:[{name:"show",rawName:"v-show",value:"en"==e.language,expression:"language=='en'"}],staticClass:"left"},[t("img",{staticClass:"logo",attrs:{src:"https://ak-web-static.oss-cn-hangzhou.aliyuncs.com/ihs/wdHospital/logo.png"}}),e._v(" "),t("img",{staticClass:"hospitalNameEn",attrs:{src:"https://ak-web-static.oss-cn-hangzhou.aliyuncs.com/ihs/wdHospital/hospitalName.png"}})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:"cn"==e.language,expression:"language=='cn'"}],staticClass:"left"},[t("img",{staticClass:"logo",attrs:{src:"https://ak-web-static.oss-cn-hangzhou.aliyuncs.com/ihs/wdHospital/logo.png"}}),e._v(" "),t("img",{staticClass:"hospitalName",attrs:{src:"https://ak-web-static.oss-cn-hangzhou.aliyuncs.com/ihs/wdHospital/hospitalName1.png"}}),e._v(" "),t("img",{staticClass:"hospitalName",attrs:{src:"https://ak-web-static.oss-cn-hangzhou.aliyuncs.com/ihs/wdHospital/hospitalName2.png"}})]),e._v(" "),t("div",{staticClass:"right"},[t("p",{directives:[{name:"show",rawName:"v-show",value:e.showRight&&"en"==e.language,expression:"showRight && language=='en'"}]},[e._v("DIAGNOSIS AND SURVIVAL PREDICTION OF GASTRIC CANCER")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:e.showRight&&"cn"==e.language,expression:"showRight && language=='cn'"}]},[e._v("胃癌AI诊断及预后预测系统")]),e._v(" "),t("img",{staticClass:"rtImg",attrs:{src:"https://ak-web-static.oss-cn-hangzhou.aliyuncs.com/ihs/wdHospital/photo.png"}})])]),e._v(" "),t("div",{staticClass:"headerRight"})])},staticRenderFns:[]};var i=t("VU/8")(s,n,!1,function(e){t("Xv5O")},"data-v-0b0bd699",null);a.a=i.exports},Igz9:function(e,a){},JNXG:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t("Cz8s"),n={name:"v-Tab",props:{hasPhoto:Number,language:{type:String,default:"en"}},data:function(){return{}},methods:{handleSelect:function(e){},sltLogin:function(e){"exitLogin"===e&&localStorage.setItem("author",null)},changePage:function(e){this.$emit("changePage",e)},logout:function(){this.$router.push({path:"/login"})},changLa:function(e){"1"==e?(this.$emit("changeLang","en"),localStorage.setItem("language","en")):"2"==e&&(this.$emit("changeLang","cn"),localStorage.setItem("language","cn"))}}},i={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"tab flex"},[t("div",{staticClass:"tabLeft"}),e._v(" "),t("div",{staticClass:"tabCn flex"},[t("div",{staticClass:"text flex"},[t("p",{directives:[{name:"show",rawName:"v-show",value:"en"===e.language,expression:"language==='en'"}],staticClass:"textCn",on:{click:function(a){return e.changePage(0)}}},[e._v("Home")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:"cn"===e.language,expression:"language==='cn'"}],staticClass:"textCn",on:{click:function(a){return e.changePage(0)}}},[e._v("首页")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.hasPhoto>0,expression:"hasPhoto > 0"}],staticClass:"icon"},[e._v(">")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:e.hasPhoto>0&&"en"===e.language,expression:"hasPhoto > 0 && language==='en'"}],staticClass:"textCn",on:{click:function(a){return e.changePage(1)}}},[e._v("Pathologic Analysis")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:e.hasPhoto>0&&"cn"===e.language,expression:"hasPhoto > 0 && language==='cn'"}],staticClass:"textCn",on:{click:function(a){return e.changePage(1)}}},[e._v("病理分析")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.hasPhoto>1,expression:"hasPhoto > 1"}],staticClass:"icon"},[e._v(">")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:e.hasPhoto>1&&"en"===e.language,expression:"hasPhoto > 1 && language==='en'"}],staticClass:"textCn",on:{click:function(a){return e.changePage(2)}}},[e._v("Prognostic Analysis")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:e.hasPhoto>1&&"cn"===e.language,expression:"hasPhoto > 1 && language==='cn'"}],staticClass:"textCn",on:{click:function(a){return e.changePage(2)}}},[e._v("预后分析")])]),e._v(" "),t("div",{staticClass:"tabrt flex"},[t("el-menu",{staticClass:"language",attrs:{"default-active":"1",mode:"horizontal","background-color":"#3075B1","text-color":"#fff","active-text-color":"#fff"},on:{select:e.handleSelect}},[t("el-submenu",{attrs:{index:"1"}},["en"==e.language?t("template",{slot:"title"},[e._v("ENGLISH")]):e._e(),e._v(" "),"cn"==e.language?t("template",{slot:"title"},[e._v("简体中文")]):e._e(),e._v(" "),t("el-menu-item",{attrs:{index:"english"},on:{click:function(a){return e.changLa(1)}}},[e._v("ENGLISH")]),e._v(" "),t("el-menu-item",{attrs:{index:"chinese"},on:{click:function(a){return e.changLa(2)}}},[e._v("简体中文")])],2)],1),e._v(" "),t("el-menu",{staticClass:"user",attrs:{"default-active":"2",mode:"horizontal","background-color":"#3075B1","text-color":"#fff","active-text-color":"#fff"},on:{select:e.sltLogin}},[t("el-submenu",{attrs:{index:"2"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-custom",staticStyle:{color:"#fff"}}),e._v(" "),t("span",[e._v("admin")])]),e._v(" "),t("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:"en"===e.language,expression:"language==='en'"}],attrs:{index:"exitLogin"},on:{click:e.logout}},[e._v("logout")]),e._v(" "),t("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:"cn"===e.language,expression:"language==='cn'"}],attrs:{index:"exitLogin"},on:{click:e.logout}},[e._v("退出登录")])],2)],1)],1)]),e._v(" "),t("div",{staticClass:"tabRight"})])},staticRenderFns:[]};var o=t("VU/8")(n,i,!1,function(e){t("KvIv")},"data-v-15a847fa",null).exports,l=t("zL8q"),c=void 0,r={data:function(){return{imageUrl:"",imageName:"",load:"",hasPhoto:0,baseUrl:"",result:"",percentage:0,colors:[{color:"#0ffc03",percentage:50},{color:"#fc2c03",percentage:100}],language:"",grid:"",file:{},showbottom:!1,showText:!1,score:"0"}},components:{vHeader:s.a,vTab:o},mounted:function(){this.language=localStorage.getItem("language")},methods:{handleAvatarSuccess:function(e,a){this.endLoading(),this.hasPhoto=1,this.result=e.Prediction[0],this.baseUrl="data:image/png;base64,"+e["Heatmap(b64code)"],this.grid=e.grid_topk,"Positive"===this.result&&this.analysis()},beforeAvatarUpload:function(e){this.file=e,this.baseUrl="";var a="image/jpeg"===e.type||"image/jpg"===e.type||"image/png"===e.type||"image/bmp"===e.type,t=e.size/1024/1024<5;return a||this.$message.error("Supported format: PNG/JPG/JPEG/BMP"),t||this.$message.error("suggested file size not to exceed 5mb"),a&&t},upError:function(){var e=this;setTimeout(function(){e.$message.error("Failed to analyze"),e.endLoading()},2e3)},upPro:function(){this.startLoading()},startLoading:function(){c=l.Loading.service({lock:!0,text:"Upload Complete, Now Analyzing...Please Wait",background:"rgba(0, 0, 0, 0.5)"})},endLoading:function(){c.close()},imgPreview:function(e){this.imageUrl=URL.createObjectURL(e.raw),this.imageName=e.name,this.hasPhoto=1},changePage:function(e){this.hasPhoto=e},analysis:function(){var e=this,a=new FormData;a.append("img",this.file),a.append("grid",this.grid);var t=l.Loading.service({lock:!0,text:"Loading...",background:"rgba(0, 0, 0, 0.5)"});this.$axios({method:"post",url:"https://dev.ankon-hospital.com:8888/detect_risk_single",data:a,headers:{"Content-Type":" multipart/form-data",accept:"application/json"}}).then(function(a){e.showbottom=!0;var s=a.data;e.score=s.pred_risk,t.close()}).catch(function(e){console.log(e)})},changeLang:function(e){this.language=e,localStorage.setItem("language",e)}}},g={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"main"},[t("v-Header",{attrs:{language:e.language}}),e._v(" "),t("v-Tab",{attrs:{hasPhoto:e.hasPhoto,language:e.language},on:{changePage:e.changePage,changeLang:e.changeLang}}),e._v(" "),t("div",{staticClass:"home"},[t("div",{directives:[{name:"show",rawName:"v-show",value:0==e.hasPhoto,expression:"hasPhoto==0"}],staticClass:"content"},[t("div",{staticClass:"upImg"},[t("el-upload",{attrs:{action:"https://dev.ankon-hospital.com:8888/detect",name:"img","list-type":"text","show-file-list":!1,"on-progress":e.upPro,"on-success":e.handleAvatarSuccess,"on-error":e.upError,"on-change":e.imgPreview,"before-upload":e.beforeAvatarUpload}},[t("p",{directives:[{name:"show",rawName:"v-show",value:"en"===e.language,expression:"language==='en'"}]},[e._v("Click to upload pathological image")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:"cn"===e.language,expression:"language==='cn'"}]},[e._v("点击上传病理图片")])])],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:"en"===e.language,expression:"language==='en'"}],staticClass:"tips"},[t("p",[e._v("Note:")]),e._v(" "),t("p",[e._v("1.Please upload digital hematoxylin and eosin stained pathological images(10x magnification)")]),e._v(" "),t("p",[e._v("2.Supported format: PNG/JPG/JPEG/BMP (suggested file size not to exceed 5mb).")])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:"cn"===e.language,expression:"language==='cn'"}],staticClass:"tips"},[t("p",[e._v("提示:")]),e._v(" "),t("p",[e._v("1.病理图片为数字化HE染色病例图片(图像大小放大倍数为100倍)。")]),e._v(" "),t("p",[e._v("2.图片文件类型支持PNG\\JPG\\JPEG\\BMP,图片大小建议不超过5M。")])])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:1===e.hasPhoto,expression:"hasPhoto===1"}],staticClass:"photo"},[t("div",{staticClass:"picLeft"},[t("p",{directives:[{name:"show",rawName:"v-show",value:"en"===e.language,expression:"language==='en'"}],staticClass:"tit"},[e._v("Original Image")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:"cn"===e.language,expression:"language==='cn'"}],staticClass:"tit"},[e._v("原始图")]),e._v(" "),t("div",{staticClass:"picLeftImg"},[t("el-image",{staticClass:"elImg",attrs:{src:e.imageUrl,fit:"contain"}})],1),e._v(" "),t("div",{staticClass:"bottom bottom1"},[t("p",{staticClass:"text"},[e._v(e._s(e.imageName))]),e._v(" "),t("div",{staticClass:"button"},[t("el-upload",{attrs:{action:"https://dev.ankon-hospital.com:8888/detect",name:"img","list-type":"text","show-file-list":!1,"on-progress":e.upPro,"on-success":e.handleAvatarSuccess,"on-error":e.upError,"on-change":e.imgPreview,"before-upload":e.beforeAvatarUpload}},[t("p",{directives:[{name:"show",rawName:"v-show",value:"en"===e.language,expression:"language==='en'"}]},[e._v("Upload Image")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:"cn"===e.language,expression:"language==='cn'"}]},[e._v("重新上传图片")])])],1)])]),e._v(" "),t("div",{staticClass:"picRight"},[t("p",{directives:[{name:"show",rawName:"v-show",value:"en"===e.language,expression:"language==='en'"}],staticClass:"tit"},[e._v("Heatmap")]),e._v(" "),t("p",{directives:[{name:"show",rawName:"v-show",value:"cn"===e.language,expression:"language==='cn'"}],staticClass:"tit"},[e._v("热力图")]),e._v(" "),t("div",{staticClass:"picRightImg"},[t("el-image",{staticClass:"elImg",attrs:{src:e.baseUrl,fit:"contain"}})],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:""!=e.baseUrl&&"en"===e.language,expression:"baseUrl!=''&&language==='en'"}],staticClass:"bottom bottom2"},[t("p",{staticClass:"text",class:"Positive"==e.result?"red":"green"},[e._v("Tumor Detection："),t("span",[e._v(e._s(e.result))])]),e._v(" "),"Positive"==e.result&&"LOW"==e.score?t("p",{staticClass:"text green"},[e._v("Prognosis Prediction："),t("span",[e._v(e._s(e.score)+" RISK")])]):e._e(),e._v(" "),"Positive"==e.result&&"HIGH"==e.score?t("p",{staticClass:"text red"},[e._v("Prognosis Prediction："),t("span",[e._v(e._s(e.score)+" RISK")])]):e._e()]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:""!=e.baseUrl&&"cn"===e.language,expression:"baseUrl!=''&&language==='cn'"}],staticClass:"bottom bottom2"},["Positive"==e.result?t("p",{staticClass:"text red"},[e._v("分析结果："),t("span",[e._v("阳性")])]):e._e(),e._v(" "),"Negative"==e.result?t("p",{staticClass:"text green"},[e._v("分析结果："),t("span",[e._v("阴性")])]):e._e(),e._v(" "),"Positive"==e.result&&"LOW"==e.score?t("p",{staticClass:"text green",staticStyle:{"margin-top":"10px"}},[e._v("预后风险等级："),t("span",[e._v("低风险")])]):e._e(),e._v(" "),"Positive"==e.result&&"HIGH"==e.score?t("p",{staticClass:"text red",staticStyle:{"margin-top":"10px"}},[e._v("预后风险等级："),t("span",[e._v("高风险")])]):e._e()])])])])],1)},staticRenderFns:[]};var v=t("VU/8")(r,g,!1,function(e){t("Igz9")},"data-v-19e50ca8",null);a.default=v.exports},KvIv:function(e,a){},Xv5O:function(e,a){}});
//# sourceMappingURL=0.31dca43f4c88ae7af604.js.map